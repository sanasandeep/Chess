<html xmlns="http://www.w3.org/1999/xhtml"  >
<head lang="en">
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title>Master Chess</title>
	<!-- Framework CSS -->
	<link rel="stylesheet" href="assets/blueprint-css/screen.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/blueprint-css/print.css" type="text/css" media="print">
	<link href="styles/shCore.css" rel="stylesheet" type="text/css" >
	<link href="styles/shCoreDefault.css" rel="stylesheet" type="text/css" >
	<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" >

	<!--[if lt IE 8]><link rel="stylesheet" href="assets/blueprint-css/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/blueprint-css/plugins/fancy-type/screen.css" type="text/css" media="screen, projection">
	<style type="text/css" media="screen">
		p, table, hr, .box { margin-bottom:25px; }
		.box p { margin-bottom:10px; }
	</style>

	<script type="text/javascript" src="scripts/shCore.js"></script>
	<script type="text/javascript" src="scripts/shBrushJScript.js"></script>
	<script type="text/javascript" src="scripts/shBrushXml.js"></script>
</head>


<body>
	<div class="container">

		<h3 class="center alt">&ldquo;Master Chess&rdquo; Documentation by &ldquo;Myslate Tech&rdquo; v1.0</h3>

		<hr>

		<h1 class="center">&ldquo;Master Chess&rdquo;</h1>

		<div class="borderTop">
			<div class="span-6 colborder info prepend-1">
				<p class="prepend-top">
					<strong>
					Created: 06/04/2017<br>
					By: <a href="http://www.myslatetech.com" target="_blank">Myslate Tech</a><br>
					Email: <a href="mailto:info@myslatetech.com">info@myslatetech.com</a>
					</strong>
				</p>
			</div><!-- end div .span-6 -->

			<div class="span-12 last">
				<p class="prepend-top append-0">If you have any questions that are beyond the scope of this help file, please feel free to email via user page contact form <a href="mailto:sanasandeep@gmail.com">here</a>. Thanks so much!</p>
			</div>
		</div><!-- end div .borderTop -->

		<hr>

		<h2 id="toc" class="alt">Table of Contents</h2>
		<ol class="alpha">
			<li><a href="#desc">Description</a></li>
			<li><a href="#content">Folder Contents</a></li>
			<li><a href="#start">Getting Started</a></li>
			<li><a href="#htmlStructure">HTML Structure</a></li>
			<li><a href="#cssFiles">CSS Files and Structure</a></li>
			<li><a href="#javascript">Source Code</a></li>
			<li><a href="#game_function">Game functions</a></li>
			<li><a href="#change_graphics">Change Graphic</a></li>
			<li><a href="#disable_sound">Disable Sounds</a></li>
		</ol>

		<hr>

		<h3 id="desc"><strong>A) Description</strong> - <a href="#toc">top</a></h3>
		<p>Enjoy this stylish version of the classic board game Chess. Two Game's Mode: Play against the pc Challenge a friend playing locally<br>

			<br>
			The ZIP package contains the game with 1920x1080 resolution that scales to fit the whole screen device<br>
			Just warning that for very wide screens, the game may not be perfectly full screen.
			The game is fully compatible with all most common mobile devices.<br>
			Sounds are enabled for mobile but we can't grant full audio compatibility on all mobile devices due to some well-know issue between some mobile-browser and HTML5.
			So if you want to avoid sound loading, please read <a href="#disable_sound">Disable Sound</a> section). <br>
			<strong>WARNING:</strong> Sounds can't be enabled for Windows Phone as this kind of device have unsolved issues with 'audio' and 'video' tag.

		</p>
		<hr>

		<h3 id="content"><strong>B) Folder Contents</strong> - <a href="#toc">top</a></h3>
		<p>
			The item package contains the following folders:
			<ul>
			<li><strong>ctl_arcade_wp_plugin</strong>:<br> This folder contains the game version (zip file inside) that can be used with wordpress plugin <a href="https://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421">CTL Arcade</a><br/><br/></li>
			<li><strong>game</strong>:<br> This folder contains the full source code that you can edit as you need.<br/><br/></li>
			<li><strong>live_demo</strong>:<br>This folder contains the obfuscated version of the game. <strong>WARNING</strong>: you should use this version if you don't have to edit the original game.<br/><br/></li>
			<li><strong>readme</strong>:<br>This folder contains the readme of the game.
			</ul>
		</p>
		<hr>

		<h3 id="start"><strong>C)Getting Started</strong> - <a href="#toc">top</a></h3>
			<p>To install the game just upload on your server the game folder live_demo.

			<ul>
				<li><strong>Game Embedding: </strong>The proper way to embed the game is in a full-screen web page or in an iframe.<br>
                                        In the first case the game will fit the screen size, in the second, that of the iframe.<br>
                                        If the iframe size matches that of the screen, the game will fit accordingly.<br>
                                        The alignment will be proportioned to the aspect ratio of the game.
				<li> <strong>Localization:</strong> You can easily change game text for different languages, changing string in <strong>CLang.js</strong></li>

				<pre class="brush: js">
                                    var TEXT_PRELOADER_CONTINUE = "START";
                                    var TEXT_DRAW      = "(draw)";
                                    var TEXT_WINS      = "(%s wins)";
                                    var TEXT_CHECKMATE = "CHECKMATE!";
                                    var TEXT_STALEMATE = "STALEMATE!"
                                    var TEXT_THINKING   = "THINKING";
                                    var TEXT_ARE_SURE = "ARE YOU SURE?";

                                    var TEXT_MODE      = "CHOOSE GAME MODE";

                                    var TEXT_BLACK     = "black";
                                    var TEXT_WHITE     = "white";

                                    var TEXT_PROMOTION = "SELECT THE PIECE YOU WANT TO PROMOTE YOUR PAWN INTO";
                                    var TEXT_CHECK = "CHECK!";

                                    var TEXT_CREDITS_DEVELOPED = "DEVELOPED BY";
				</pre>
			</ul>
			</p>
		<hr>

		<h3 id="htmlStructure"><strong>D)HTML Structure</strong> - <a href="#toc">top</a></h3>
		<p>This game have the canvas tag in the body. The ready event into the body calls the main function of the game: CMain().
		<br>The head section declares all the javascript functions of the game. The whole project uses a typical object-oriented approach.<br>
		In the init function there are 5 mapped <a href="#events">events</a> that can be useful eventually for stats</p>

		<pre class="brush: js">
			<body  ondragstart="return false;" ondrop="return false;" >
				  <script>
				   $(document).ready(function(){
							$(oMain).on("start_session", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN PLAY BUTTON IN MENU SCREEN IS CLICKED
							 });

							$(oMain).on("end_session", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN THE EXIT BUTTON IS CLICKED.
							});
							$(oMain).on("save_score", function(evt,iScore, szMode) {
									//THIS EVENT IS TRIGGERED WHEN GAME IS OVER. IT CAN BE USEFUL TO CALL PHP SCRIPTS (NOT PROVIDED IN THE PACKAGE) THAT SAVE THE SCORE.
							 });

							 $(oMain).on("show_interlevel_ad", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN GAME IS OVER. MAY BE USEFUL TO CALL ADS SCRIPT.
							 });

							 $(oMain).on("share_event", function(evt,iScore) {
									//THIS EVENT IS TRIGGERED WHEN GAME OVER IS SHOWN.
							 });
						   });

				  </script>

				<canvas id="canvas" class='ani_hack' width="1920" height="1080"> </canvas>
			</body>
		</pre>
		<li><strong>Game option:</strong> You can easily customize game setting when creating a new instance of the game in <strong>index.html</strong> file</li>
				<pre class="brush: js">
					var oMain = new CMain({
                                            show_score: true,                   //SET IF YOU WANT PLAY WITH A SCORE
                                            start_score: 5000,                  //START SCORE. MORE TIME YOU USE TO FINISH A MATCH, LESS SCORE YOU GET
                                            score_decrease_per_second: 10,      //SCORE DECREASED PER SECOND

                                            check_orientation: true,            //SET TO FALSE IF YOU DON'T WANT TO SHOW ORIENTATION ALERT ON MOBILE DEVICES
                                            fullscreen: true,                   //SET THIS TO FALSE IF YOU DON'T WANT TO SHOW FULLSCREEN BUTTON
                                            audio_enable_on_startup:false,      //ENABLE/DISABLE AUDIO WHEN GAME STARTS
                                           });
				</pre>
		<hr>

		<h3 id="cssFiles"><strong>E) CSS Files and Structure</strong> - <a href="#toc">top</a></h3>

		<p>The game use two CSS files. The first one is a generic reset file. Many browser interpret the default behavior of html elements differently. By using a general reset CSS file, we can work round this.
		Keep in mind, that these values might be overridden somewhere else in the file.</p>

		<p>The second file contains all of the specific stylings for the canvas and some hack to be fully compatible with all most popular mobile devices</p>

		<hr>

		<h3 id="javascript"><strong>F) Source Code</strong> - <a href="#toc">top</a></h3>

		<p>This game contains:</p>

		<ol>
			<li>jQuery</li>
			<li>Our custom scripts</li>
			<li>CreateJs plugin</li>
		</ol>

		<ol>
			<li>jQuery is a Javascript library that greatly reduces the amount of code that you must write.</li>
			<li>The game have the following js files:

			<ul>
				<li>CMain: the main class called by the index file. <br>This file controls the sprite_lib.js file that manages the sprite loading, the loop game and initialize the canvas with the CreateJs library</li>
				<li>ctl_utils: this file manages the canvas resize and its centering</li>
				<li>sprite_lib: this class loads all images declared in the main class</li>
				<li>settings: general game settings</li>
				<li>CLang: global string variables for language localization</li>
				<li>CPreloader: simple text preloader to show resources loading progress</li>
				<li>CMenu: simple menu with the play button</li>
				<li>CGfxButton: this class create a standard button</li>
				<li>CToggle: this class create a standard toggle button</li>
				<li>CTextButton: this class create a standard text button</li>
				<li>CGame: this class manages the game logic</li>
				<li>CInterface: this class controls game GUI that contains text and buttons</li>
                                <li>CCreditsPanel: this class shows credits panel.</li>
                                <li>CEndPanel: this class shows end panel.</li>
                                <li>CAreYouSurePanel: this class shows are you sure panel.</li>
                                <li>CAI: this class manages the Artificial Intelligence of computer</li>
                                <li>CBoardStateController: this class manages the general rule condition of the game</li>
                                <li>CMovesController: this class manages the single moves of the pieces</li>
                                <li>CMovesControllerFaster: this class manages the single moves of the pieces. It's an optimized and faster version of previous one that speed up AI calculation</li>
                                <li>CCell: this class manages single cell of the board</li>
                                <li>CCopiedCell: this class manages the Artificial Intelligence of computer</li>
                                <li>CPiece: this class manages the pieces of the game</li>
                                <li>CPromoPanel: this class manages the pawn promotion selection panel</li>
                                <li>CThinking: this class manages the waiting for AI, message screen</li>
                                <li>CTreeDecision: this class manages the tree of moves that AI will choose</li>
                                <li>TreeModel: library that manages and builds the tree</li>
                                <li>CTreeDecision: this class manages the info of the player</li>
                                <li>CMessage: this class manages general message on screen</li>
                                <li>CModeMenu: this class manages the selection level menu.</li>

                                <li>CGUIExpandible: this class manages the GUI buttons group</li>
                                <li>CCTLText: this class manages the texts format</li>
                                <li>sprintf: this class is a library for texts</li>

			</ul>

			</li>
			<li>CreateJs is a suite of modular libraries and tools which work together to enable rich interactive content on open web technologies via HTML5.
			</li>
		</ol>

		<p>Resuming, the complete game flow is the following: </p>
		<ol>
			<li>The index.html file calls the CMain.js file after ready event is called</li>
			<li>The main class calls CPreloader.js to init preloader text and start sprite loading</li>
			<li>When all sprites contained in "/sprites" and "/sounds" folder are loaded, the main class removes the preloader and calls the CMenu.js file that shows the main menu</li>
			<li>If the user click the Play button in main menu, the CModeMenu.js class is called and user can choose a mode</li>
                        <li>If the user click on a mode button in mode menu, the CGame.js class is called and game starts</li>
			<li>If the user click on the exit button in the down-right corner, the game returns to the menu screen</li>
		</ol>

		<hr>

		<h3 id="game_function"><strong>G) Game functions</strong> - <a href="#toc">top</a></h3>
			In this section will be explained all the most important functions used in <strong>CGame.js</strong> file. <br><br>

		<ul>
			<li><strong>_init()</strong> <br>
				This function attach on the canvas some game sprites like background (oBg)and the GUI.
			</li>
			<li><strong>unload</strong> <br>
				This function is called when user want to exit from the game.
			</li>
                        <li><strong>_initBoard()</strong> <br>
				This function init chess board.
			</li>
                        <li><strong>changeTurn()</strong> <br>
				This function manage turn changes.
			</li>
                        <li><strong>_playAI()</strong> <br>
				This function detect best move for AI.
			</li>
                        <li><strong>cellClicked()</strong> <br>
				This function manages cell click.
			</li>
                        <li><strong>_checkLegalMove()</strong> <br>
				This function check if a move is legal.
			</li>
                        <li><strong>checkGameState()</strong> <br>
				This function check if game ends.
			</li>
			<li><strong>gameOver()</strong> <br>
				This function is called when game is over.
			</li>
			<li><strong>update()</strong> <br>
				This function manages the main game loop.
			</li>

		</ul>

		<hr>

		<h3 id="change_graphics"><strong>H) Change Graphic</strong> - <a href="#toc">top</a></h3>
		<p>
			You can easily change all the game graphic, replacing all the file you need in the "/sprites" folder. Just respect file format (.png or .jpg) and size if you don't want to change any code line.<br>
		</p>

		<h3 id="disable_sound"><strong>I) Disable Sounds</strong> - <a href="#toc">top</a></h3>
		<p>If you want to disable all the sounds for mobile devices, you have to change the following value in settings.js file:</p>
			<pre class="brush: js">var DISABLE_SOUND_MOBILE = true;</pre>

		<p>Once again, thank you so much for purchasing this game. Feel free to contact us if you have any questions or issue relating to this game. No guarantees, but we'll do our best to assist.</p>

		<p class="append-bottom alt large"><a href="http://www.myslatetech.com" target="_blank"><strong>Myslate Tech</strong></a></p>
		<p><a href="#toc">Go To Table of Contents</a></p>

		<hr class="space">
	</div>
	<!-- end div .container -->

	<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
	<script type="text/javascript">
		 SyntaxHighlighter.all()
	</script>
</body>
</html>
